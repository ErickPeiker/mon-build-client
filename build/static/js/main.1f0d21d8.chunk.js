(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{511:function(e){e.exports={"3 hours":"3 horas","6 hours":"6 horas","12 hours":"12 horas","5 minutes":"5 minutos","10 minutes":"10 minutos","30 minutes":"30 minutos","add widget":"Adicionar Widget",add:"Adicionar",administrator:"Administrador","auto refresh":"Atualiza\xe7\xe3o autom\xe1tica",advancedtable:"Tabela Avan\xe7ada",advancedgraphic:"Gr\xe1fico Avan\xe7ado",birthdate:"Data de Nascimento",bits:"Bits",cancel:"Cancelar","chart type":"Tipo do Gr\xe1fico",chart:"Gr\xe1fico",client:"Cliente",cnpj:"CNPJ",collectors:"Coletores",companies:"Empresas",company:"Empresa","company data":"Dados da Empresa","company register":"Cadastro de Empresa",cpf:"CPF",dashboard:"Dashboard",day:"Dia",delete:"Deletar","destination ip":"IP de Destino",edit:"Editar",email:"Email","end date":"Data final","equipment type":"Tipo de Equipamento",equipment:"Equipamento",equipments:"Equipamentos",filter:"Filtrar",fullscreen:"Expandir",gender:"G\xeanero",groups:"Grupos",Graphic:"Gr\xe1fico","history time":"Tempo de Hist\xf3rico",hour:"Hora",id:"Id",ie:"IE",ip:"IP","is active":"Ativo",item:"Item",items:"Itens","item quantity":"Quantidade de Item","item type":"Tipo de Item",interval:"Intervalo",login:"Login",logout:"Logout","marital status":"Estado Civil",menus:"Menus",month:"M\xeas",name:"Nome",observation:"Observa\xe7\xe3o",password:"Senha",path:"Caminho","personal data":"Dados Pessoais",port:"Porta",protocol:"Protocolo",refresh:"Atualizar",rg:"RG",report:"Relat\xf3rio",reports:"Relat\xf3rios",resale:"Revenda",role:"Papel",routes:"Rotas",save:"Salvar","show others":"Mostrar Outros","show data":"Mostrar os dados","show legend":"Mostrar Legenda","source ip":"IP de Origem","start date":"Data In\xedcio","switch company":"Alterar Empresa",switch:"Alterar",type:"Tipo",Table:"Tabela",users:"Usu\xe1rios",user:"Usu\xe1rio","user data":"Dados do Usu\xe1rio",week:"Semana"}},583:function(e,t,n){e.exports=n(879)},846:function(e,t){},879:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),l=n.n(o),c=n(60),i=n(154),u=n(25),m=n(368),s=n(977),p=n(940),d=n(512),f=n(12),b=n(146),E=n(29),g=n.n(E),h=n(38),y=n(30),v=n(137),O=n(97),j=n(87),x=n(256),S=n.n(x),w=function(e){return e.map(function(e){return Object.keys(e)}).flat(1).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return{field:e,title:e}})},k=function(e){var t=e.actions,n=e.columns,o=e.data,l=e.loading,c=e.options,i=e.progress,u=e.title,m=Object(f.a)(e,["actions","columns","data","loading","options","progress","title"]),s=Object(a.useState)(!1),p=Object(y.a)(s,2),d=p[0],b=p[1],E=[{icon:d?"close":"filter_list",isFreeAction:!0,onClick:function(){b(!d)}}].concat(Object(j.a)(t));return r.a.createElement(r.a.Fragment,null,!!l&&r.a.createElement(nt,{progress:i}),r.a.createElement(S.a,Object.assign({},m,{title:u,columns:n||w(o),data:o,actions:E,options:Object(O.a)({actionsColumnIndex:-1,pageSize:10,pageSizeOptions:[10,20,50,100],search:d},c)})))};k.defaultProps={actions:[],title:""};var C=k,T=function(e){return r.a.createElement(x.MTableGroupRow,e)},A=n(952),I=n(882),P=n(951),F=function(e){var t=e.children,n=e.window,a=Object(P.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return r.a.cloneElement(t,{elevation:a?4:0})},N=function(e){return r.a.createElement(F,null,r.a.createElement(A.a,null,r.a.createElement(I.a,null,e.children)))},D=n(370),M=Object(D.a)(function(e){return{leftContent:{flexGrow:1,display:"flex",alignItems:"center"}}}),q=function(e){var t=M();return r.a.createElement("div",{className:t.leftContent},e.children)},R=Object(D.a)(function(e){return{rightContent:{display:"flex",alignItems:"center"}}}),_=function(e){var t=R();return r.a.createElement("div",{className:t.rightContent},e.children)},B=(n(953),n(954)),Y=function(e){return r.a.createElement(B.a,e,e.children)},G=n(955),L=function(e){return r.a.createElement(G.a,e,e.children)},J=n(987),z=function(e){return r.a.createElement(J.a,e,e.children)},H=n(883),W=n(957),V=Object(D.a)(function(e){return{icon:{display:"flex",marginRight:10},progress:{marginRight:10}}}),U=function(e){var t=e.icon,n=e.loading,a=Object(f.a)(e,["icon","loading"]),o=V();return r.a.createElement(H.a,Object.assign({variant:"contained"},a),t&&!n&&r.a.createElement("span",{className:o.icon},t),n&&r.a.createElement(W.a,{size:24,color:"inherit",className:o.progress}),a.children)},K=n(958),Z=function(e){return r.a.createElement(K.a,e,e.children)},Q=n(959),X=function(e){return r.a.createElement(Q.a,e,e.children)},$=n(960),ee=function(e){return r.a.createElement($.a,e,e.children)},te=n(82),ne=["#5C6BC0","#42A5F5","#26A69A","#9CCC65","#FFEE58","#FFA726","#EF5350","#EC407A","#AB47BC"],ae=n(80),re=n(81);function oe(){var e=Object(ae.a)(["\n  margin-left: auto;\n"]);return oe=function(){return e},e}function le(){var e=Object(ae.a)(["\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 10px;\n"]);return le=function(){return e},e}function ce(){var e=Object(ae.a)(["\n  min-width: 10px;\n  margin: 0 10px;\n  flex-grow: 1;\n"]);return ce=function(){return e},e}function ie(){var e=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n"]);return ie=function(){return e},e}function ue(){var e=Object(ae.a)(["\n  padding: 0;\n  list-style: none;\n"]);return ue=function(){return e},e}function me(){var e=Object(ae.a)(["\n  background: rgba(255, 255, 255, 0.8);\n  padding: 5px;\n  border: 1px solid rgba(0,0,0,.125);\n  border-radius: .25rem;\n  box-shadow: 0 2px 15px 0 rgba(0, 0, 0, 0.05);\n"]);return me=function(){return e},e}function se(){var e=Object(ae.a)(["\n  margin-left: 10px;\n"]);return se=function(){return e},e}var pe=re.a.div(se()),de=re.a.div(me()),fe=re.a.ul(ue()),be=re.a.li(ie()),Ee=re.a.hr(ce()),ge=re.a.span(le()),he=re.a.span(oe()),ye=function(e){var t=e.payload;Object(f.a)(e,["payload"]);return r.a.createElement(pe,null,r.a.createElement(fe,null,!!t&&t.map(function(e,t){return r.a.createElement(be,{key:t},r.a.createElement(ge,{style:{backgroundColor:e.color}}),r.a.createElement("span",{className:"recharts-item-name"},e.name),r.a.createElement(Ee,null),r.a.createElement(he,null,e.value))})))},ve=function(e){var t=e.formatter,n=e.payload,a=(Object(f.a)(e,["formatter","payload"]),n?n.sort(function(e,t){return t.value-e.value}):[]);return r.a.createElement(de,null,r.a.createElement("p",{className:"recharts-tooltip-label"},"Label"),r.a.createElement(fe,null,a.map(function(e,n){return r.a.createElement(be,{key:n},r.a.createElement(ge,{style:{backgroundColor:e.color}}),r.a.createElement("span",{className:"recharts-item-name"},e.dataKey),r.a.createElement(Ee,null),r.a.createElement(he,null,t(e.value)))})))},Oe=function(e){var t=e.data,n=e.height,a=e.legendLimit,o=e.onClick,l=e.valueFormatter,c=(Object(f.a)(e,["data","height","legendLimit","onClick","valueFormatter"]),t.map(function(e){return Object.keys(e)}).flat(1).filter(function(e,t,n){return n.indexOf(e)===t}).filter(function(e){return"key"!==e}).sort(function(e,n){return t.reduce(function(e,t){return e+(t[n]||0)},0)-t.reduce(function(t,n){return t+(n[e]||0)},0)}));return r.a.createElement(te.i,{height:n},r.a.createElement(te.f,{data:t},r.a.createElement(te.a,null),r.a.createElement(te.k,{dataKey:"key"}),r.a.createElement(te.l,{tickFormatter:l}),r.a.createElement(te.j,{content:ve,formatter:l,isAnimationActive:!1}),r.a.createElement(te.d,{layout:"vertical",verticalAlign:"top",align:"right",margin:{top:0,right:0,left:50,bottom:0},content:ye,payload:c.slice(0,a).map(function(e,n){return{name:e,value:l(t.reduce(function(t,n){return t+(n[e]||0)},0)),color:ne[n]||"#9E9E9E"}})}),c.map(function(e,t){return r.a.createElement(te.e,{key:e,dot:!1,activeDot:{stroke:ne[t]||"#9E9E9E",onClick:function(e){return o(e.dataKey,e.payload.key)}},type:"monotone",dataKey:e,stroke:ne[t]||"#9E9E9E"})})))};Oe.defaultProps={legendLimit:10,valueFormatter:function(e){return e}};var je=Oe,xe=function(e){var t=e.data,n=(e.height,e.onClick,e.valueFormatter);e.showLegend,Object(f.a)(e,["data","height","onClick","valueFormatter","showLegend"]);return r.a.createElement(te.i,{height:270},r.a.createElement(te.h,null,r.a.createElement(te.j,{formatter:n}),r.a.createElement(te.g,{dataKey:"value",data:t,fill:"#8884d8",nameKey:"key",innerRadius:70,outerRadius:100},r.a.createElement(te.c,{position:"center",value:n(t.reduce(function(e,t){return e+t.value},0))}),t.map(function(e,t){return r.a.createElement(te.b,{key:"cell-".concat(t),fill:ne[t%ne.length],stroke:ne[t%ne.length]})}))))},Se=n(961),we=function(e){return r.a.createElement(Se.a,e,e.children)},ke=n(278),Ce=n(506),Te=n(983),Ae=n(50),Ie=n.n(Ae),Pe=function(e){var t=e.meta,n=t.submitting,a=t.error,o=t.touched,l=e.input,c=l.onBlur,i=l.value,u=Object(f.a)(l,["onBlur","value"]),m=e.disabled,s=Object(f.a)(e,["meta","input","disabled"]);return r.a.createElement(Ce.b,{utils:ke.a},r.a.createElement(Te.a,Object.assign({},s,u,{margin:"normal",variant:"inline",inputVariant:"outlined",fullWidth:!0,format:"DD/MM/YYYY",value:i?Ie()(i):null,disabled:m||n,onBlur:function(){return c(i?Ie()(i).format("YYYY-MM-DD"):null)},error:a&&o,onChange:function(e){e&&e.isValid()?u.onChange(e.format("YYYY-MM-DD")):u.onChange(null)}})))},Fe=n(979),Ne=function(e){var t=e.meta,n=t.submitting,a=t.error,o=t.touched,l=e.input,c=l.onBlur,i=l.value,u=Object(f.a)(l,["onBlur","value"]),m=e.disabled,s=Object(f.a)(e,["meta","input","disabled"]);return r.a.createElement(Ce.b,{utils:ke.a},r.a.createElement(Fe.a,Object.assign({},s,u,{margin:"normal",variant:"inline",inputVariant:"outlined",fullWidth:!0,format:"DD/MM/YYYY HH:mm",ampm:!1,value:i?Ie()(i):null,disabled:m||n,onBlur:function(){return c(i?Ie()(i).format("YYYY-MM-DD HH:mm"):null)},error:a&&o,onChange:function(e){e?u.onChange(e.format("YYYY-MM-DD HH:mm")):u.onChange(null)}})))},De=n(962),Me=n(964),qe=n(963),Re=n(968),_e=function(e){var t=e.actions,n=e.children,a=e.open,o=e.onClose,l=e.title,c=Object(f.a)(e,["actions","children","open","onClose","title"]);return r.a.createElement(De.a,Object.assign({},c,{open:a,onClose:o}),l&&r.a.createElement(Re.a,null,l),r.a.createElement(qe.a,null,n),t&&r.a.createElement(Me.a,null,t))},Be=n(969),Ye=function(e){return r.a.createElement(Be.a,e,e.children)},Ge=n(980),Le=n(965),Je=Object(D.a)(function(e){return{openedDrawer:{width:250},drawerPaper:{width:250,marginTop:64,overflow:"auto"}}}),ze=function(e){var t=e.toggle,n=e.open,a=e.variant,o=Object(f.a)(e,["toggle","open","variant"]),l=function(){return window.innerWidth<=768},c=r.a.useState(l()),i=Object(y.a)(c,2),u=i[0],m=i[1],s=Je();return window.addEventListener("resize",function(){var e=l();e!==u&&(m(e),t(!e))}),r.a.createElement(Ge.a,Object.assign({},o,{className:n&&!u?s.openedDrawer:"",onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:n,variant:u?"temporary":a,classes:{paper:s.drawerPaper}}),r.a.createElement(Le.a,{role:"presentation",onClick:function(){return u&&t(!1)}},o.children))};ze.defaultProps={variant:"persistent"};var He=ze,We=n(970),Ve=function(e){return r.a.createElement(We.a,e,e.children)},Ue=n(967),Ke=function(e){return r.a.createElement(Ue.a,Object.assign({},e,{container:!0,spacing:2}),e.children)},Ze=function(e){return r.a.createElement(Ue.a,Object.assign({},e,{item:!0}),e.children)},Qe=n(971),Xe=function(e){return r.a.createElement(Qe.a,e,e.children)},$e=n(966),et=function(e){return r.a.createElement($e.a,e,e.children)},tt=n(972),nt=function(e){var t=e.progress,n=e.variant,a=Object(f.a)(e,["progress","variant"]);return r.a.createElement(tt.a,Object.assign({},a,{variant:t?"determinate":n,value:t}))},at=n(886),rt=n(974),ot=n(973),lt=function(e){var t=e.icon,n=e.primary,a=e.secondary,o=e.to;Object(f.a)(e,["icon","primary","secondary","to"]);return r.a.createElement(at.a,{button:!0,component:i.b,to:o},t&&r.a.createElement(ot.a,null,t),r.a.createElement(rt.a,{primary:n,secondary:a}))},ct=n(981),it=n(975),ut=n(978),mt=Object(D.a)(function(e){return{chips:{display:"flex",flexWrap:"wrap",margin:"-9px -2px"},chip:{margin:2},root:{"&:focus":{background:"none"}}}}),st=function(e){var t=e.input,n=(t.onBlur,t.value),a=Object(f.a)(t,["onBlur","value"]),o=e.meta,l=o.submitting,c=(o.error,o.touched,e.multiple),i=e.options,u=e.disabled,m=Object(f.a)(e,["input","meta","multiple","options","disabled"]),s=r.a.useState(!1),p=Object(y.a)(s,2),d=p[0],b=p[1],E=mt();return r.a.createElement(ut.a,Object.assign({},a,m,{select:!0,SelectProps:{classes:{root:E.root},multiple:c,renderValue:function(e){return c?r.a.createElement("div",{className:E.chips},e.map(function(e){return r.a.createElement(ct.a,{key:e,label:i.filter(function(t){return t.value===e})[0]?i.filter(function(t){return t.value===e})[0].label:"",className:E.chip})})):i.filter(function(t){return t.value===e})[0]?i.filter(function(t){return t.value===e})[0].label:null},open:d,onOpen:function(){return b(!0)},onClose:function(){return b(!1)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,variant:"menu"}},margin:"normal",variant:"outlined",fullWidth:!0,id:a.name,value:!n&&c?[]:n,disabled:u||l}),i.map(function(e){return r.a.createElement(it.a,{key:e.value,value:e.value},e.label)}))},pt=function(e){var t=e.meta,n=t.submitting,a=t.error,o=t.touched,l=e.input,c=(l.onBlur,l.value),i=Object(f.a)(l,["onBlur","value"]),u=e.disabled,m=Object(f.a)(e,["meta","input","disabled"]);return r.a.createElement(ut.a,Object.assign({},m,i,{value:c,margin:"normal",variant:"outlined",fullWidth:!0,disabled:u||n,error:a&&o}))},dt=n(976),ft=function(e){return r.a.createElement(dt.a,e,e.children)},bt=n(982),Et=function(e){return r.a.createElement(bt.a,e,e.children)};Et.defaultProps={exclusive:!1};var gt=Et,ht=function(e){var t=e.meta,n=t.submitting,a=(t.error,t.touched,e.input),o=(a.onBlur,a.value),l=a.onChange,c=(Object(f.a)(a,["onBlur","value","onChange"]),e.disabled),i=e.options,u=Object(f.a)(e,["meta","input","disabled","options"]);return r.a.createElement(gt,Object.assign({},u,{value:o,onChange:l,size:"small"}),i.map(function(e){return r.a.createElement(ft,{key:e.value,value:e.value,disabled:c||n,onClick:function(){return l(e.value)}},e.label)}))},yt=n(194),vt=function(e){return r.a.createElement(yt.a,e,e.children)},Ot=Object(u.b)("common")(function(e){var t=e.dash,n=e.t;Object(f.a)(e,["dash","t"]);return t.active&&r.a.createElement(a.Fragment,null,r.a.createElement(Ke,{justify:"center",xs:8,key:t.id},r.a.createElement(Ze,null,r.a.createElement(vt,{variant:"h4"},t.name))),r.a.createElement(Ke,{justify:"flex-end",xs:4},r.a.createElement(Ze,null,r.a.createElement(Y,{showLabels:!0},r.a.createElement(L,{label:n("edit"),icon:r.a.createElement(Xe,null,"edit-rounded")}),r.a.createElement(L,{label:n("add"),icon:r.a.createElement(Xe,null,"add-rounded")}),r.a.createElement(L,{label:n("fullscreen"),icon:r.a.createElement(Xe,null,"fullscreen-rounded"),onClick:function(){document.getElementById("dashboard").webkitRequestFullscreen()}})))))}),jt=n(280),xt=n.n(jt),St=xt()("http://34.70.73.159:1204/",{query:{token:JSON.parse(localStorage.getItem("apiToken"))},reconnectionDelay:2e3,reconnectionDelayMax:3e4,timeout:36e4}),wt=function(){return St.on("connect",function(){console.log("Connected")}),St.on("disconnect",function(){console.log("Disconnected")}),St},kt=function(e,t){return(Ie.a.isMoment(e)?Ie()(e):Ie()()).subtract(t,"minutes")},Ct=function(e){return(Ie.a.isMoment(e)?Ie()(e):Ie()()).format("YYYY-MM-DD HH:mm")},Tt=function(e){if(0===e)return"0 Bits";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(2))+" "+["Bits","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"][t]},At={getDataToWidgets:function(){var e=Object(h.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=wt.connectoToSocket()).on("errorReportExecution",function(e){console.log("errorReportExecution"),console.log(e)}),(a={type:"Widget",equipment:t.parameters.equipments[0],itemType:t.parameters.itemType,limit:t.parameters.itemLimiter,startDate:new Date,endDate:new Date}).startDate=kt(a.endDate,t.parameters.historyLimiter),n.emit("generateReport",{reportId:t.id,filters:a}),n.on("returnReport",function(e){return console.log("reportData: "+JSON.stringify(e)),e.data});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},It=Object(u.b)("common")(function(e){var t=e.widgetsOfDash,n=e.t,o=(Object(f.a)(e,["widgetsOfDash","t"]),Object(a.useState)(Object(j.a)(t))),l=Object(y.a)(o,2),c=l[0],i=l[1];Object(a.useEffect)(function(){var e=Object(j.a)(c).map(function(e){return At.getDataToWidgets(e)||[]});Promise.all(e).then(function(e){console.log("Resultado das Promisses: "+JSON.stringify(e)),i(e)})},[t]);var u=function(e){console.log(e)},m=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]};return r.a.createElement(Ke,null,c.map(function(e){return r.a.createElement(Ze,{xs:4,key:e.id},r.a.createElement(Z,{id:"widget"+e.id},r.a.createElement(X,null,r.a.createElement(Ke,{alignItems:"center",justify:"center",xs:9},r.a.createElement(Ze,null,r.a.createElement(vt,{variant:"subtitle1",index:e.id},e.name))),r.a.createElement(Y,{justify:"rigth",xs:3},r.a.createElement(L,{label:n("edit"),style:{padding:0,minWidth:40},icon:r.a.createElement(Xe,{style:{fontSize:14}},"edit-rounded")}),r.a.createElement(L,{label:n("refresh"),style:{padding:0,minWidth:40},icon:r.a.createElement(Xe,{style:{fontSize:14}},"refresh-rounded")}),r.a.createElement(L,{label:n("move"),style:{padding:0,minWidth:40},icon:r.a.createElement(Xe,{style:{fontSize:14}},"drag-indicator-rounded")}),r.a.createElement(L,{label:n("fullscreen"),style:{padding:0,minWidth:40},icon:r.a.createElement(Xe,{style:{fontSize:14}},"fullscreen-rounded"),onClick:function(){return t="widget"+e.id,void document.getElementById(t).webkitRequestFullscreen();var t}}))),r.a.createElement(ee,null,r.a.createElement(xe,{data:e.data,height:"100%",onClick:u,valueFormatter:m,showLegend:!1}))))}))}),Pt=n(281),Ft=n.n(Pt),Nt=function(){var e=Ft.a.create({baseURL:"http://34.70.73.159:1204/",timeout:0});return e.interceptors.request.use(function(e){return localStorage.getItem("apiToken")&&(e.headers.Authorization=JSON.parse(localStorage.getItem("apiToken"))||""),localStorage.getItem("user")&&(e.headers.User=JSON.stringify(localStorage.getItem("user"))||""),e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){return e},function(e){return console.log(e),e.response&&(!e.config.hasOwnProperty("errorHandle")||e.config.hasOwnProperty("errorHandle")&&!1===e.config.errorHandle)&&alert(e.response.data.error.message),Promise.reject(e.response)}),e}(),Dt={getDashboards:function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.get("/dashboard").then(function(e){return console.log(e.data),e.data}).catch(function(e){return console.log(e),null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),putDashboard:function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),addDashboard:function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),removeDashboard:function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Mt=Object(u.b)("common")(function(e){Object(v.a)({},e);var t=Object(a.useState)([]),n=Object(y.a)(t,2),o=n[0],l=n[1];return Object(a.useEffect)(function(){!function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,Dt.getDashboards();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),o&&o.map(function(e){return e.active&&r.a.createElement(Ke,{id:"dashboard",style:{background:"#FFFFFF"}},r.a.createElement(Ot,{dash:e}),r.a.createElement(It,{widgetsOfDash:e.widgets}))})}),qt=function(){var e=Ft.a.create({baseURL:"https://34.70.73.159:1207/",timeout:0});return e.interceptors.request.use(function(e){return localStorage.getItem("apiToken")&&(e.headers.Authorization=JSON.parse(localStorage.getItem("apiToken"))||""),e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){return e},function(e){return e.response&&(!e.config.hasOwnProperty("errorHandle")||e.config.hasOwnProperty("errorHandle")&&!1===e.config.errorHandle)&&alert(e.response.data.error.message),Promise.reject(e.response)}),e}(),Rt={login:function(){var e=Object(h.a)(g.a.mark(function e(t,n){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.post("/login",{email:t,password:n}).then(function(e){localStorage.setItem("apiToken",JSON.stringify(e.data.apiToken)),localStorage.setItem("user",JSON.stringify(e.data.user))});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("apiToken"),localStorage.removeItem("user")}},_t=n(484),Bt=n(483),Yt=Object(Bt.a)({form:"LoginForm"})(Object(u.b)("common")(function(e){var t=e.handleSubmit,n=e.submitting,a=e.t;Object(f.a)(e,["handleSubmit","submitting","t"]);return r.a.createElement("form",{onSubmit:t},r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(vt,{variant:"h6"},"Login"),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12},r.a.createElement(_t.a,{label:a("email"),name:"email",component:pt,type:"email",autoFocus:!0,required:!0})),r.a.createElement(Ze,{xs:12},r.a.createElement(_t.a,{label:a("password"),name:"password",component:pt,type:"password",required:!0})))),r.a.createElement(X,null,r.a.createElement(U,{color:"primary",type:"submit",loading:n,disabled:n},a("login")))))})),Gt=Object(u.b)("common")(function(e){e.t;var t=Object(f.a)(e,["t"]);Object(a.useEffect)(function(){Rt.logout()});var n=function(){var e=Object(h.a)(g.a.mark(function e(n){var a,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},n),e.next=3,Rt.login(a.email,a.password);case 3:r=t.location.state||{from:{pathname:"/dashboard"}},o=r.from,t.history.push(o);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Yt,{onSubmit:n})}),Lt=n(508),Jt=n(509),zt=n(513),Ht=n(510),Wt=n(514),Vt=function(e){function t(){return Object(Lt.a)(this,t),Object(zt.a)(this,Object(Ht.a)(t).apply(this,arguments))}return Object(Wt.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404"),r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,this.props.location.pathname)))}}]),t}(a.Component),Ut=Object(u.b)("common")(function(e){var t=e.data,n=e.loading,a=e.progress,o=e.selectedItemTypes,l=e.t,c=(Object(f.a)(e,["data","loading","progress","selectedItemTypes","t"]),[{field:"flow_out",title:l("destination ip"),defaultGroupOrder:o.indexOf("ac702049-d082-4738-8efb-6593dc7c8b3d"),hidden:!o.includes("ac702049-d082-4738-8efb-6593dc7c8b3d"),customSort:function(e,t,n){return"group"===n?i(e,t,"flow_out"):e.flow_out.localeCompare(t.flow_out)},defaultGroupSort:"desc"},{field:"flow_in",title:l("source ip"),defaultGroupOrder:o.indexOf("e5419d6a-6ce7-4c83-9a85-331bfc3fab86"),grouping:!1,hidden:!o.includes("e5419d6a-6ce7-4c83-9a85-331bfc3fab86"),customSort:function(e,t,n){return"group"===n?i(e,t,"flow_in"):e.flow_in.localeCompare(t.flow_in)},defaultGroupSort:"desc"},{field:"flow_port",title:l("port"),defaultGroupOrder:o.indexOf("691c4399-ce06-4189-9133-c5455a0ec1c1"),hidden:!o.includes("691c4399-ce06-4189-9133-c5455a0ec1c1"),customSort:function(e,t,n){return"group"===n?i(e,t,"flow_port"):e.flow_port-t.flow_port},defaultGroupSort:"desc"},{field:"flow_protocol",title:l("protocol"),defaultGroupOrder:o.indexOf("80cf31d6-77b8-404d-be03-2aff2fbf4334"),hidden:!o.includes("80cf31d6-77b8-404d-be03-2aff2fbf4334"),customSort:function(e,t,n){return"group"===n?i(e,t,"flow_protocol"):e.flow_protocol.localeCompare(t.flow_protocol)},defaultGroupSort:"desc"},{field:"value",title:l("bits"),render:function(e){return Tt(8*e.value)},grouping:!1,filtering:!1}]),i=function(e,n,a){return u({data:t.filter(function(t){return t[a]===e})})-u({data:t.filter(function(e){return e[a]===n})})},u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.groups&&t.groups.length?t.groups.reduce(function(t,n){return t+e(n,0)},0):n+t.data.reduce(function(e,t){return e+t.value},n)};return r.a.createElement(C,{title:l("Table"),columns:c,data:t,options:{filtering:!0,grouping:!0},loading:n,progress:a,components:{GroupRow:function(e){return r.a.createElement(T,Object.assign({},e,{groupData:Object(O.a)({},e.groupData,{value:r.a.createElement(r.a.Fragment,null,e.groupData.value," - ",r.a.createElement("i",null,"(",Tt(8*u(e.groupData,0)),")")),data:Object(j.a)(e.groupData.data).splice(0,100),groups:Object(j.a)(e.groupData.groups).splice(0,100)})}))}}})}),Kt=function(e){var t=e.data;Object(f.a)(e,["data"]);return r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(je,{data:t,height:300,valueFormatter:function(e){return Tt(8*e)}})))},Zt=function(e){var t=e.defaultFilters,n=Object(f.a)(e,["defaultFilters"]),o=Object(a.useState)([]),l=Object(y.a)(o,2),c=l[0],i=l[1];return Object(a.useEffect)(function(){(function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.get("/company",{params:{filters:btoa(JSON.stringify([{type:"select",fields:["id","legalPerson.name"]},{type:"orderBy",field:"legalPerson.name",order:"ASC"}])),defaultFilters:btoa(JSON.stringify(t))}}).then(function(e){i(e.data.map(function(e){return{value:e.id,label:e.legalPerson_name}}))});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[t]),r.a.createElement(st,Object.assign({},n,{options:c}))};Zt.defaultProps={defaultFilters:[]};var Qt=Zt,Xt=function(e){var t=Object(a.useState)([]),n=Object(y.a)(t,2),o=n[0],l=n[1],c=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.get("/equipment",{params:{filters:btoa(JSON.stringify([{type:"select",fields:["id","name","company.legalPerson.name"]},{type:"orderBy",field:"name",order:"ASC"}]))}}).then(function(e){l(e.data.map(function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.company_legalPerson_name,")")}}))});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){c()},[]),r.a.createElement(st,Object.assign({},e,{options:o}))},$t=function(e){var t=Object(a.useState)([]),n=Object(y.a)(t,2),o=n[0],l=n[1],c=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.get("/group",{params:{filters:btoa(JSON.stringify([{type:"select",fields:["id","name"]},{type:"orderBy",field:"name",order:"ASC"}]))}}).then(function(e){l(e.data.map(function(e){return{value:e.id,label:e.name}}))});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){c()},[]),r.a.createElement(st,Object.assign({},e,{options:o}))},en=function(e){var t=Object(a.useState)([]),n=Object(y.a)(t,2),o=n[0],l=n[1],c=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.get("/item-type",{params:{filters:btoa(JSON.stringify([{type:"select",fields:["id","name"]},{type:"orderBy",field:"name",order:"ASC"}]))}}).then(function(e){var t=e.data.map(function(e){return{value:e.id,label:e.name}});l(t)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){c()},[]),r.a.createElement(st,Object.assign({},e,{options:o}))},tn=Object(Bt.a)({initialValues:{type:"AdvancedGraphic",interval:"1-hour"}})(Object(u.b)("common")(function(e){var t=e.closable,n=e.closeReport,o=e.handleSubmit,l=e.loading,i=e.t,u=e.form,m=Object(f.a)(e,["closable","closeReport","handleSubmit","loading","t","form"]),s=Object(c.d)(function(e){return e.form[u].values}),p=Object(a.useState)(!0),d=Object(y.a)(p,2),b=d[0],E=d[1],g=Object(a.useState)([{}]),h=Object(y.a)(g,2),v=h[0],O=h[1];return Object(a.useEffect)(function(){var e,t,n={},a={};s.startDate||(n=function(e){var t=Ie.a.isMoment(e)?Ie()(e):Ie()(),n=t.minutes()-t.minutes()%5;return t.set({minute:n,second:0})}(),n=kt(n,5),e=n,t=5,n=(Ie.a.isMoment(e)?Ie()(e):Ie()()).subtract(t,"hours"),s.startDate=Ct(n),a=function(e,t){return(Ie.a.isMoment(e)?Ie()(e):Ie()()).add(t,"hours")}(n,5),s.endDate=Ct(a))},[s]),r.a.createElement("form",{onSubmit:o},r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:"auto"},r.a.createElement(et,{size:"small",onClick:function(){return E(!b)}},r.a.createElement(Xe,null,b?"keyboard_arrow_up":"keyboard_arrow_down"))),r.a.createElement(Ze,{xs:!0},r.a.createElement(vt,{variant:"h6"},i("report"))),t&&r.a.createElement(Ze,{xs:"auto"},r.a.createElement(et,{size:"small",onClick:n},r.a.createElement(Xe,null,"close"))))),r.a.createElement(we,{in:b},r.a.createElement(ee,null,r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12},r.a.createElement(_t.a,{name:"type",component:ht,disabled:l,onChange:function(){m.change("itemType",null)},options:[{value:"AdvancedGraphic",label:i("Graphic")},{value:"AdvancedTable",label:i("Table")}]})),r.a.createElement(Ze,{xs:12,md:12,lg:3},r.a.createElement(_t.a,{label:i("equipment"),name:"equipment",component:Xt,required:!0,autoFocus:!0,disabled:l})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:i("start date"),name:"startDate",component:Ne,minutesStep:5,required:!0,disabled:l,disableFuture:!0})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:i("end date"),name:"endDate",component:Ne,minutesStep:5,disabled:l})),("Graphic"===s.type||"AdvancedGraphic"===s.type)&&r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:i("interval"),name:"interval",component:st,disabled:l,options:[{value:"5-minutes",label:i("5 minutes")},{value:"10-minutes",label:i("10 minutes")},{value:"30-minutes",label:i("30 minutes")},{value:"1-hour",label:i("hour")},{value:"3-hour",label:i("3 hours")},{value:"6-hour",label:i("6 hours")},{value:"12-hour",label:i("12 hours")},{value:"1-day",label:i("day")},{value:"1-week",label:i("week")},{value:"1-month",label:i("month")}]}))),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:12,lg:6},r.a.createElement(_t.a,{label:i("show data"),name:"itemType",component:en,multiple:"AdvancedTable"===s.type,required:!0,disabled:l}))),("AdvancedTable"===s.type||"AdvancedGraphic"===s.type)&&v.map(function(e,t){return r.a.createElement(Ke,{key:t},r.a.createElement(Ze,{xs:12,md:3,lg:3},r.a.createElement(_t.a,{label:i("item type"),name:"itemType"+t,component:en,disabled:l})),r.a.createElement(Ze,{xs:12,md:9,lg:3},r.a.createElement(_t.a,{label:i("filter"),name:"filterItemType"+t,component:pt,disabled:l})),t>0&&v.length===t+1&&r.a.createElement(Ze,null,r.a.createElement(Ve,{size:"small",color:"inherit",disabled:l,onClick:function(){return O(function(e){console.log(e+" - Before: "+v);var t=Object(j.a)(v),n="filterItemType"+e;return s["itemType"+e]=void 0,s[n]=void 0,t.splice(e,1),t}(t))}},r.a.createElement(Xe,null,"remove"))),v.length<4&&v.length===t+1&&r.a.createElement(Ze,null,r.a.createElement(Ve,{size:"small",color:"inherit",disabled:l,onClick:function(){return O([].concat(Object(j.a)(v),[{}]))}},r.a.createElement(Xe,null,"add"))))})),r.a.createElement(X,null,r.a.createElement(U,{color:"primary",type:"submit",disabled:l,loading:l},"Generate")))))})),nn=xt()("http://34.70.73.159:1204/",{query:{token:JSON.parse(localStorage.getItem("apiToken"))},reconnectionDelay:2e3,reconnectionDelayMax:3e4,timeout:36e4}),an=Object(u.b)("common")(function(e){var t=e.closable,n=e.closeReport,o=e.reportId,l=(e.t,Object(f.a)(e,["closable","closeReport","reportId","t"]),Object(a.useState)([])),c=Object(y.a)(l,2),i=c[0],u=c[1],m=Object(a.useState)(!1),s=Object(y.a)(m,2),p=s[0],d=s[1],b=Object(a.useState)("Graphic"),E=Object(y.a)(b,2),v=E[0],x=E[1],S=Object(a.useState)([]),w=Object(y.a)(S,2),k=w[0],C=w[1];Object(a.useEffect)(function(){nn.on("connect",function(){console.log("Connected")}),nn.on("disconnect",function(){console.log("Disconnected")}),nn.on("errorReportExecution",function(e){console.log("errorReportExecution"),console.log(e)}),nn.on("connect_error",function(e){console.log("connect_error"),console.log(e)}),nn.on("returnReport",function(e){e.reportId===o&&(d(!1),u(function(t){return e.data}))})},[o]);var T=function(){var e=Object(h.a)(g.a.mark(function e(t,n){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.equipment){e.next=4;break}return alert("Selecione um equipamento"),e.abrupt("return");case 4:if(t.itemType&&0!==t.itemType.length){e.next=7;break}return alert("Selecione pelo menos um tipo de item para mostrar"),e.abrupt("return");case 7:if(!("AdvancedTable"===t.type&&t.itemType&&t.itemType.length>2)){e.next=10;break}return alert("Voc\xea deve selecionar apenas 2 tipos de dados para mostrar"),e.abrupt("return");case 10:if("AdvancedTable"!==t.type&&"AdvancedGraphic"!==t.type){e.next=47;break}if(t.nfdumpFilters=[],!t.itemType0){e.next=19;break}if(!t.filterItemType0){e.next=17;break}t.nfdumpFilters.push({itemType:t.itemType0,filter:t.filterItemType0}),e.next=19;break;case 17:return alert("Ao escolher um tipo de item , digite um filtro"),e.abrupt("return");case 19:if(!t.itemType1){e.next=26;break}if(!t.filterItemType1){e.next=24;break}t.nfdumpFilters.push({itemType:t.itemType1,filter:t.filterItemType1}),e.next=26;break;case 24:return alert("Ao escolher um tipo de item , digite um filtro"),e.abrupt("return");case 26:if(!t.itemType2){e.next=33;break}if(!t.filterItemType2){e.next=31;break}t.nfdumpFilters.push({itemType:t.itemType2,filter:t.filterItemType2}),e.next=33;break;case 31:return alert("Ao escolher um tipo de item , digite um filtro"),e.abrupt("return");case 33:if(!t.itemType3){e.next=40;break}if(!t.filterItemType3){e.next=38;break}t.nfdumpFilters.push({itemType:t.itemType3,filter:t.filterItemType3}),e.next=40;break;case 38:return alert("Ao escolher um tipo de item , digite um filtro"),e.abrupt("return");case 40:d(!0),x(t.type),a=Object(j.a)(t.itemType),C(a),console.log(t),nn.emit("generateReport",{reportId:o,filters:Object(O.a)({limit:10},t)}),u([]);case 47:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12},r.a.createElement(tn,{closable:t,closeReport:function(){return n(o)},onSubmit:function(e){return T(e,o)},loading:p,form:"reportFilterForm-".concat(o)})),(!!i.length||p)&&r.a.createElement(Ze,{xs:12},"AdvancedTable"===v&&r.a.createElement(Ut,{data:i,loading:p,selectedItemTypes:k}),"AdvancedGraphic"===v&&r.a.createElement(Kt,{data:i,loading:p,selectedItemTypes:k})))});function rn(){var e=Object(ae.a)(["\n  display: flex;\n  align-items: center;\n"]);return rn=function(){return e},e}function on(){var e=Object(ae.a)(["\n  flex-grow: 1;\n"]);return on=function(){return e},e}var ln=Object(re.a)(Ye)(on()),cn=Object(re.a)(Ze)(rn()),un=Object(u.b)("common")(function(e){e.t,Object(f.a)(e,["t"]);var t=Object(a.useState)([!0]),n=Object(y.a)(t,2),o=n[0],l=n[1],c=function(e){l(o.map(function(t,n){return e!==n&&t}))},i=o.filter(function(e){return e}).length;return r.a.createElement(Ke,null,o.map(function(e,t){return r.a.createElement(a.Fragment,{key:t},e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,{xs:12},r.a.createElement(an,{reportId:t,closable:i>1,closeReport:c})),t+1<i&&r.a.createElement(cn,{xs:12},r.a.createElement(ln,null))))}),r.a.createElement(Ze,null,r.a.createElement(Ve,{size:"small",color:"primary",onClick:function(){return l([].concat(Object(j.a)(o),[!0]))}},r.a.createElement(Xe,null,"add"))),r.a.createElement(cn,{xs:!0},r.a.createElement(ln,null)))}),mn=Object(u.b)("common")(function(e){var t=e.t,n=Object(f.a)(e,["t"]),o=Object(a.useState)([]),l=Object(y.a)(o,2),c=l[0],i=l[1],u=Object(a.useState)([]),m=Object(y.a)(u,2),s=m[0],p=m[1],d=JSON.parse(localStorage.getItem("user")),b=[{field:"company.legalPerson.name",title:t("company"),hidden:"COMPANY_CLIENT"===d.company.type},{field:"name",title:t("name")},{field:"ip",title:t("ip")},{field:"equipmentType.name",title:t("equipment type")},{field:"isActive",title:t("is active"),type:"boolean"}],E=[{icon:"edit",tooltip:t("edit"),onClick:function(e,t){n.history.push("/equipment/edit/"+t.id)}}];return Object(a.useEffect)(function(){p(!0),qt.get("/equipment",{params:{filters:btoa(JSON.stringify([{type:"orderBy",field:"name",order:"ASC"}])),toArray:btoa(JSON.stringify({only:["id","name","equipmentType","isActive","ip","company"],toArrayEquipmentType:{only:["id","name"]},toArrayCompany:{only:["id","legalPerson"],toArrayLegalPerson:{only:["id","name"]}}}))}}).then(function(e){i(e.data),p(!1)})},[]),r.a.createElement(C,{actions:E,title:t("equipments"),columns:b,data:c,loading:s})}),sn=n(480),pn=function(e){e.autofocus;var t=e.title,n=e.t;Object(f.a)(e,["autofocus","title","t"]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(z,{mt:3},r.a.createElement(vt,{variant:"subtitle2"},t)),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:n("type"),name:"type",component:st,options:[{value:"COMPANY_MASTER",label:n("administrator")},{value:"COMPANY_RESALE",label:n("resale")},{value:"COMPANY_CLIENT",label:n("client")}]})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:n("resale"),name:"company",component:Qt,required:!0}))))};pn.defaultProps={autofocus:!1,title:null};var dn=Object(u.b)("common")(pn),fn=function(e){var t=e.autofocus,n=e.title,a=e.t;Object(f.a)(e,["autofocus","title","t"]);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(z,{mt:3},r.a.createElement(vt,{variant:"subtitle2"},n)),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("name"),name:"name",component:pt,required:!0,autoFocus:t})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("observation"),name:"observation",component:pt}))))};fn.defaultProps={autofocus:!1,title:null};var bn=Object(u.b)("common")(fn),En=function(e){var t=e.autofocus,n=e.title,a=e.t;Object(f.a)(e,["autofocus","title","t"]);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(z,{mt:3},r.a.createElement(vt,{variant:"subtitle2"},n)),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("name"),name:"name",component:pt,required:!0,autoFocus:t})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("cnpj"),name:"cnpj",component:pt,required:!0})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("ie"),name:"ie",component:pt,required:!0}))))};En.defaultProps={autofocus:!1,title:null};var gn=Object(u.b)("common")(En),hn=function(e){var t=e.autofocus,n=e.title,a=e.t;Object(f.a)(e,["autofocus","title","t"]);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(z,{mt:3},r.a.createElement(vt,{variant:"subtitle2"},n)),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("name"),name:"name",component:pt,required:!0,autoFocus:t})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("cpf"),name:"cpf",component:pt})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("rg"),name:"rg",component:pt})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("birthdate"),name:"birthdate",component:Pe})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("gender"),name:"gender",component:st,options:[{value:"MASCULINO",label:"Masculino"},{value:"FEMININO",label:"Feminino"}]})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:a("marital status"),name:"maritalStatus",component:st,options:[{value:"CASADO",label:"Casado"},{value:"SOLTEIRO",label:"Solteiro"}]}))))};hn.defaultProps={autofocus:!1,title:null};var yn=Object(u.b)("common")(hn),vn=function(e){var t=e.autofocus,n=e.showCompanySelect,a=e.title,o=e.t;Object(f.a)(e,["autofocus","showCompanySelect","title","t"]);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(z,{mt:3},r.a.createElement(vt,{variant:"subtitle2"},a)),r.a.createElement(Ke,null,n&&r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:o("company"),name:"companies",component:Qt,multiple:!0,required:!0,autoFocus:t})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:o("groups"),name:"groups",component:$t,multiple:!0}))),r.a.createElement(Ke,null,r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:o("email"),name:"email",component:pt,type:"email",required:!0})),r.a.createElement(Ze,{xs:12,md:4,lg:3},r.a.createElement(_t.a,{label:o("password"),name:"plainPassword",component:pt,type:"password"}))))};vn.defaultProps={autofocus:!1,showCompanySelect:!0,title:null};var On=Object(u.b)("common")(vn),jn=Object(Bt.a)({form:"EquipmentForm",enableReinitialize:!0})(Object(u.b)("common")(function(e){var t=e.handleSubmit,n=(e.loading,e.t);Object(f.a)(e,["handleSubmit","loading","t"]);return r.a.createElement("form",{onSubmit:t},r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(vt,{variant:"h6"},n("equipment")),r.a.createElement(sn.a,{name:"",component:bn})),r.a.createElement(X,null,r.a.createElement(U,{color:"primary",type:"submit"},n("save")))))})),xn=Object(u.b)("common")(function(e){var t=Object(v.a)({},e),n=Object(a.useState)({}),o=Object(y.a)(n,2),l=o[0],c=o[1],i=t.match.params.id,u=function(){var e=Object(h.a)(g.a.mark(function e(n){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},n),e.next=3,qt.put("/equipment/".concat(i),a);case 3:200===e.sent.status&&t.history.push("/equipment");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){qt.get("/equipment/".concat(i),{params:{toArray:btoa(JSON.stringify({only:["id","name","observation","ip","equipmentType.name"]}))}}).then(function(e){c(Object(O.a)({},e.data))})},[i]),r.a.createElement(jn,{onSubmit:u,initialValues:l})}),Sn=Object(u.b)("common")(function(e){var t=e.t,n=Object(f.a)(e,["t"]),o=Object(a.useState)([]),l=Object(y.a)(o,2),c=l[0],i=l[1],u=Object(a.useState)([]),m=Object(y.a)(u,2),s=m[0],p=m[1],d=JSON.parse(localStorage.getItem("user")),b=[{field:"legalPerson_name",title:t("name")},{field:"type",title:t("type"),lookup:{COMPANY_MASTER:t("administrator"),COMPANY_CLIENT:t("client"),COMPANY_RESALE:t("resale")}}],E=[{icon:"edit",tooltip:t("edit"),onClick:function(e,t){n.history.push("/company/edit/"+t.id)}},{icon:"delete",tooltip:t("delete"),onClick:function(e,t){window.confirm("Tem certeza que deseja excluir?")&&(p(!0),qt.delete("/company/"+t.id).then(function(e){i(c.filter(function(e){return e.id!==t.id})),p(!1)}))}},{icon:"add",tolltip:t("add"),isFreeAction:!0,hidden:"COMPANY_CLIENT"===d.company.type,onClick:function(){n.history.push("/company/new")}}];return Object(a.useEffect)(function(){p(!0),qt.get("/company",{params:{filters:btoa(JSON.stringify([{type:"select",fields:["id","legalPerson.name","type","company.id"]},{type:"orderBy",field:"legalPerson.name",order:"ASC"}]))}}).then(function(e){i(e.data),p(!1)})},[]),r.a.createElement(C,{actions:E,title:t("companies"),columns:b,data:c,loading:s,parentChildData:function(e,t){return t.find(function(t){return t.id===e.company_id})}})}),wn=Object(Bt.a)({form:"CompanyForm",enableReinitialize:!0})(Object(u.b)("common")(function(e){var t=e.handleSubmit,n=(e.loading,e.initialValues),a=e.t;Object(f.a)(e,["handleSubmit","loading","initialValues","t"]);return r.a.createElement("form",{onSubmit:t},r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(vt,{variant:"h6"},a("company register")),r.a.createElement(sn.a,{title:a("company data"),name:n.id?"legalPerson":"companies[0].legalPerson",component:gn,autofocus:!0}),r.a.createElement(sn.a,{name:n.id?"":"companies[0]",component:dn}),!n.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(sn.a,{title:a("personal data"),name:"physicalPerson",component:yn,showCompanySelect:!1}),r.a.createElement(sn.a,{title:a("user data"),name:"",component:On,showCompanySelect:!1}))),r.a.createElement(X,null,r.a.createElement(U,{color:"primary",type:"submit"},a("save")))))})),kn=Object(u.b)("common")(function(e){var t=Object(v.a)({},e),n=Object(a.useState)({}),o=Object(y.a)(n,2),l=o[0],c=o[1],i=t.match.params.id,u=JSON.parse(localStorage.getItem("user")),m=function(){var e=Object(h.a)(g.a.mark(function e(n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},n),!i){e.next=7;break}return e.next=4,qt.put("/company/".concat(i),a);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,qt.post("/user",a);case 9:r=e.sent;case 10:200===r.status&&t.history.push("/company");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){i&&qt.get("/company/".concat(i),{params:{toArray:btoa(JSON.stringify({only:["id","legalPerson","type","company"],toArrayLegalPerson:{only:["id","name","cnpj","ie"]}}))}}).then(function(e){c(e.data)})},[i]),r.a.createElement(wn,{onSubmit:m,initialValues:i?l:{companies:[{type:"COMPANY_MASTER"===u.company.type?"COMPANY_RESALE":"COMPANY_CLIENT",company:u.company.id}]}})}),Cn=Object(u.b)("common")(function(e){var t=e.t,n=Object(f.a)(e,["t"]),o=Object(a.useState)([]),l=Object(y.a)(o,2),c=l[0],i=l[1],u=Object(a.useState)([]),m=Object(y.a)(u,2),s=m[0],p=m[1],d=[{field:"physicalPerson.name",title:t("name")},{field:"email",title:t("email")}],b=[{icon:"edit",tooltip:t("edit"),onClick:function(e,t){n.history.push("/user/edit/"+t.id)}},{icon:"delete",tooltip:t("delete"),onClick:function(e,t){window.confirm("Tem certeza que deseja excluir?")&&(p(!0),qt.delete("/user/"+t.id).then(function(e){i(c.filter(function(e){return e.id!==t.id})),p(!1)}))}},{icon:"add",tolltip:t("add"),isFreeAction:!0,onClick:function(){n.history.push("/user/new")}}];return Object(a.useEffect)(function(){p(!0),qt.get("/user",{params:{filters:btoa(JSON.stringify([{type:"orderBy",field:"physicalPerson.name",order:"ASC"}])),toArray:btoa(JSON.stringify({only:["id","email","physicalPerson"],toArrayPhysicalPerson:{only:["name","cpf"]}}))}}).then(function(e){i(e.data),p(!1)})},[]),r.a.createElement(C,{actions:b,title:t("users"),columns:d,data:c,loading:s})}),Tn=Object(Bt.a)({form:"UserForm",enableReinitialize:!0})(Object(u.b)("common")(function(e){var t=e.handleSubmit,n=(e.loading,e.t);Object(f.a)(e,["handleSubmit","loading","t"]);return r.a.createElement("form",{onSubmit:t},r.a.createElement(Z,null,r.a.createElement(ee,null,r.a.createElement(vt,{variant:"h6"},n("user")),r.a.createElement(sn.a,{title:n("personal data"),name:"physicalPerson",component:yn}),r.a.createElement(sn.a,{title:n("user data"),name:"",component:On})),r.a.createElement(X,null,r.a.createElement(U,{color:"primary",type:"submit"},n("save")))))})),An=Object(u.b)("common")(function(e){var t=Object(v.a)({},e),n=Object(a.useState)({}),o=Object(y.a)(n,2),l=o[0],c=o[1],i=t.match.params.id,u=function(){var e=Object(h.a)(g.a.mark(function e(n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(O.a)({},Object.assign({},n),{companies:[n.companies],groups:n.grous?[n.groups]:null}),!i){e.next=7;break}return e.next=4,qt.put("/user/".concat(i),a);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,qt.post("/user",a);case 9:r=e.sent;case 10:200===r.status&&t.history.push("/user");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){i&&qt.get("/user/".concat(i),{params:{toArray:btoa(JSON.stringify({only:["id","email","physicalPerson","groups","companies"],toArrayPhysicalPerson:{only:["name","cpf","rg","birthdate","gender","maritalStatus"]}}))}}).then(function(e){c(Object(O.a)({},e.data))})},[i]),r.a.createElement(Tn,{onSubmit:u,initialValues:l})}),In=n(516),Pn=n(88),Fn=function(e){var t=e.children,n=e.dispatch,a=e.formName;Object(f.a)(e,["children","dispatch","formName"]);return r.a.createElement(U,{type:a?"button":"submit",color:"primary",onClick:function(){return n(Object(Pn.a)(a))}},t)};Fn.defaultProps={formName:""};var Nn=Object(c.b)()(Fn),Dn=Object(Bt.a)({form:"SwitchCompanyForm",enableReinitialize:!0})(Object(u.b)("common")(function(e){var t=e.handleSubmit,n=e.open,a=e.onClose,o=e.t;Object(f.a)(e,["handleSubmit","open","onClose","t"]);return r.a.createElement(_e,{open:n,onClose:a,title:o("switch company"),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{variant:"text",onClick:a},o("cancel")),r.a.createElement(Nn,{formName:"SwitchCompanyForm"},o("save"))),fullWidth:!0,maxWidth:"xs"},r.a.createElement("form",{onSubmit:t},r.a.createElement(_t.a,{label:o("company"),name:"company",component:Qt,defaultFilters:{company:!1},required:!0})))})),Mn=function(e){var t=e.open,n=e.onClose,a=(Object(f.a)(e,["open","onClose"]),JSON.parse(localStorage.getItem("user"))),o=function(){var e=Object(h.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=JSON.parse(localStorage.getItem("user")),e.next=4,qt.put("/user/".concat(n.id),{company:t.company},{params:{defaultFilters:btoa(JSON.stringify({company:!1}))}}).then(function(e){localStorage.setItem("user",JSON.stringify(e.data)),window.location.reload()});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Dn,{open:t,onClose:n,onSubmit:o,initialValues:{company:a.company.id}})};function qn(){var e=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  line-height: 14px;\n  align-items: start;\n"]);return qn=function(){return e},e}var Rn=re.a.div(qn()),_n=Object(u.b)("common")(function(e){var t=e.t,n=(Object(f.a)(e,["t"]),Object(a.useState)(null)),o=Object(y.a)(n,2),l=o[0],c=o[1],u=Object(a.useState)(!1),m=Object(y.a)(u,2),s=m[0],p=m[1],d=JSON.parse(localStorage.getItem("user"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{variant:"text",color:"inherit",icon:r.a.createElement(Xe,null,"account_circle"),"aria-controls":"profile-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},r.a.createElement(Rn,null,r.a.createElement("div",null,d.physicalPerson.name),r.a.createElement("small",null,d.company.legalPerson.name))),r.a.createElement(In.a,{id:"profile-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){return c(null)}},r.a.createElement(it.a,{onClick:function(){p(!0),c(null)}},t("switch company")),r.a.createElement(it.a,{component:i.b,to:"/login"},t("logout"))),r.a.createElement(Mn,{open:s,onClose:function(){return p(!1)}}))}),Bn=function(e){var t=Object(c.c)(),n=Object(c.d)(function(e){return e.drawer});return r.a.createElement(N,null,r.a.createElement(q,null,r.a.createElement(et,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return e=!n.open,void t({type:"CHANGE_DRAWER_VISIBILITY",open:e});var e}},r.a.createElement(Xe,null,"menu")),r.a.createElement(vt,{variant:"h6"},"OWLMO")),r.a.createElement(_,null,r.a.createElement(_n,null)))},Yn=[{name:"Dashboard",path:"/dashboard"},{name:"Relat\xf3rio",path:"/report"},{name:"Equipamentos",path:"/equipment"},{name:"Empresas",path:"/company"},{name:"Usu\xe1rios",path:"/user"}],Gn=function(e){var t=Object(c.c)(),n=Object(c.d)(function(e){return e.drawer});return r.a.createElement(He,{open:n.open,toggle:function(e){return function(e){t({type:"CHANGE_DRAWER_VISIBILITY",open:e})}(e)}},Yn.map(function(e,t){return r.a.createElement(lt,{key:t,primary:e.name,to:e.path})}))};function Ln(){var e=Object(ae.a)(["\n  flex-grow: 1;\n  margin-top: 64px;\n  padding: 12px;\n"]);return Ln=function(){return e},e}function Jn(){var e=Object(ae.a)(["\n  display: flex;\n"]);return Jn=function(){return e},e}var zn=re.a.div(Jn()),Hn=re.a.div(Ln()),Wn=function(e){return r.a.createElement(zn,null,r.a.createElement(Bn,null),r.a.createElement(Gn,null),r.a.createElement(Hn,null,e.children))},Vn=function(e){var t=e.component,n=Object(f.a)(e,["component"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return localStorage.getItem("apiToken")||localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Un=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{path:["/","/dashboard"],exact:!0,component:Mt}),r.a.createElement(b.b,{path:"/report",exact:!0,component:un}),r.a.createElement(b.b,{path:"/equipment",exact:!0,component:mn}),r.a.createElement(b.b,{path:"/equipment/edit/:id",exact:!0,component:xn}),r.a.createElement(b.b,{path:"/company",exact:!0,component:Sn}),r.a.createElement(b.b,{path:"/company/new",exact:!0,component:kn}),r.a.createElement(b.b,{path:"/company/edit/:id",exact:!0,component:kn}),r.a.createElement(b.b,{path:"/user",exact:!0,component:Cn}),r.a.createElement(b.b,{path:"/user/new",exact:!0,component:An}),r.a.createElement(b.b,{path:"/user/edit/:id",exact:!0,component:An}),r.a.createElement(b.b,{path:"*",component:Vt}))},Kn=function(){return r.a.createElement(Wn,null,r.a.createElement(b.b,{path:"/",component:Un}))},Zn=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/login",component:Gt}),r.a.createElement(Vn,{path:"/",component:Kn}))},Qn=n(49),Xn={open:!0},$n="CHANGE_DRAWER_VISIBILITY",ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $n:return Object(O.a)({},e,{open:t.open});default:return e}},ta=n(486),na=Object(Qn.c)({drawer:ea,form:ta.a}),aa=Object(Qn.e)(na),ra={interpolation:{escapeValue:!1},lng:"pt_BR",resources:{pt_BR:{common:n(511)}}};m.a.init(ra);var oa=Object(d.a)({palette:{primary:{main:"#212121"},secondary:{main:"#3F51B5"},background:{default:"#ffffff"}}}),la=function(e){return r.a.createElement(c.a,{store:aa},r.a.createElement(p.a,{theme:oa},r.a.createElement(u.a,{i18n:m.a},r.a.createElement(s.a,null),r.a.createElement(i.a,null,r.a.createElement(Zn,null)))))};l.a.render(r.a.createElement(la,null),document.querySelector("#root"))}},[[583,1,2]]]);
//# sourceMappingURL=main.1f0d21d8.chunk.js.map